{% extends "base.html" %} {% block extra_css %} 

{% endblock %} {% block content%}


<section id="review" class="mb-12 mx-auto px-12 py-12 bg-gray-800 w-3/4">
    <h2 class="text-3xl">レビュー一覧</h2>
    <form method="get">
      <select name="sort_option" onchange="this.form.submit()">
          <option value="evaluation_desc" {{ 'selected' if sort_option == 'evaluation_desc' else '' }}>評価の高い順</option>
          <option value="evaluation_asc" {{ 'selected' if sort_option == 'evaluation_asc' else '' }}>評価の低い順</option>
          <option value="newest" {{ 'selected' if sort_option == 'newest' else '' }}>新しい順</option>
          <option value="oldest" {{ 'selected' if sort_option == 'oldest' else '' }}>古い順</option>
      </select>
  </form>
    <ul>
      {% for review in reviews %}
      <a href="/review_detail?review_id={{review.get('id')}}" class="block hover:scale-105">
        <li class="my-4 p-4 bg-gray-700">
          <p>
            タイトル：{{ review.get("mangaTitle") }}
          </p>
          <p>{{user_doc_ref.document(review["user_id"]).get().to_dict()["username"]}}</p>
          <p>評価：{{ review.get("evaluation") }}</p>
          <p>{{ review.get("contents") }}</p>
        </li>
      {% endfor %}
  </ul>
</section>



<a href="/reviewAdd" class="inline-block bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded">
レビュー投稿
</a>

    

{% endblock %}